'use strict';Object.defineProperty(exports,'__esModule',{value:true});exports.removeMessage=exports.flashErrorMessage=exports.flashSuccessMessage=exports.flashMessage=exports.clearMessages=exports.removeFlash=exports.addFlash=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _reduxActions=require('redux-actions');var _v=require('uuid/v4');var _v2=_interopRequireDefault(_v);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DEFAULT_TIMEOUT=3000;var addFlash=exports.addFlash=(0,_reduxActions.createAction)('ADD_FLASH');var removeFlash=exports.removeFlash=(0,_reduxActions.createAction)('REMOVE_FLASH');var clearMessages=exports.clearMessages=(0,_reduxActions.createAction)('CLEAR_MESSAGES');var flashMessage=exports.flashMessage=function flashMessage(message){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var _options$push=options.push,push=_options$push===undefined?false:_options$push,_options$isError=options.isError,isError=_options$isError===undefined?false:_options$isError,_options$timeout=options.timeout,timeout=_options$timeout===undefined?DEFAULT_TIMEOUT:_options$timeout,_options$props=options.props,props=_options$props===undefined?{}:_options$props;var id=(0,_v2.default)();return function(dispatch){if(push)dispatch(clearMessages());dispatch(addFlash({id:id,message:message,isError:isError,props:props}));if(timeout)setTimeout(function(){return dispatch(removeFlash(id))},timeout)}};var flashSuccessMessage=exports.flashSuccessMessage=flashMessage;var flashErrorMessage=exports.flashErrorMessage=function flashErrorMessage(message,options){return flashMessage(message,_extends({isError:true},options))};var removeMessage=exports.removeMessage=removeFlash;